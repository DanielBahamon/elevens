<% content_for :page_name, "Registro - Entornes" %>

<section class="_session">
  <aside class="_login">
    <% if user_signed_in? %>
      <%= link_to authenticated_root_path, data: { no_turbolink: true }, class: "_brand" do %>
      <img src="//d4s5cnqwbwfuf.cloudfront.net/assets/brands/v1/11_dark.svg">
      <% end %>
    <% else %>
      <%= link_to unauthenticated_root_path, data: { no_turbolink: true }, class: "_brand" do %>
        <%= image_tag '//d4s5cnqwbwfuf.cloudfront.net/assets/brands/v1/11_dark.svg', class: "_light", alt: 'Entornes'%>
      <% end %>
    <% end %>
    <br>
    <h2>¡Primeros pasos!</h2>
    <%= link_to user_google_oauth2_omniauth_authorize_path, class: "_btn _fullwidth _session _google" do %>
    <span><i class="fab fa-google"></i></span> <span>Continuar con Google</span>
    <% end %>
    <%= link_to user_facebook_omniauth_authorize_path, class: "_btn _fullwidth _session _facebook" do %>
      <span><i class="fab fa-facebook-f"></i></span> <span>Continuar con Facebook</span>
    <% end %>
    <a class="_btn _fullwidth _session _email" data-bs-toggle="collapse" href="#collapseEmail" role="button" aria-expanded="false" aria-controls="collapseEmail">
      <span><i class="far fa-envelope"></i></span> <span>Continuar con Email</span>
    </a>
    <div class="collapse" id="collapseEmail">
      <div class="card-body">
        <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <%= f.error_notification %>
          <div class="form-inputs">
            <%= f.input :email,
                        required: true,
                        autofocus: true,
                        placeholder: 'Correo electrónico'%>
            <%= f.input :slug,
                        required: true,
                        placeholder: 'Nombre de usuario'%>
            <%= f.input :password,
                        required: true,
                        placeholder: "Contraseña",
                        hint: ("#{@minimum_password_length} caracteres como mínimo" if @minimum_password_length),
                        input_html: { autocomplete: "new-password" } %>
            <%= f.input :password_confirmation,
                        placeholder: "Confirma tu nueva contraseña",
                        required: true,
                        input_html: { autocomplete: "new-password" } %>
          </div>
          <div class="form-actions">
            <button type="submit" class="_btn _btn_1 _fullwidth">
              <span>Empezando...</span>
            </button>
          </div>
        <% end %>
      </div>
    </div>
    <small class="text-muted _line">O</small>
    <div class="_actions">
      <%= render "devise/shared/links" %>
    </div>
  </aside>
</section>